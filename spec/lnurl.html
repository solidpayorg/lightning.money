<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><!--This file has been created with freeplane2html.xsl--><head><title>lnurl</title><link rel="stylesheet" href="lnurl.html_files/freeplane2html.css" type="text/css" /><meta name="generator" content="Freeplane-XSL Stylesheet (see: http://freeplane-xsl.dev.slash-me.net/ for details)" /><script type="text/javascript" src="lnurl.html_files/freeplane2html.js">Â 
	</script><script type="text/javascript"><!--
          
               function toggle(id)
               {
                   div_el = document.getElementById(id);
                   img_el = document.getElementById('img'+id);
                   if (div_el.style.display != 'none')
                   {
          

                      div_el.style.display='none';
                      img_el.src = 'lnurl.html_files/show.png';
          
                   }
                   else
                   {
          
                      div_el.style.display='block';
                      img_el.src = 'lnurl.html_files/hide.png';
          
                   };
               };
          
          --></script></head><body><h1>lnurl</h1><div style="width:96%;  padding:2%;  margin-bottom:10px;  border: 0px;  text-align:center;  vertical-align:center;"><img src="lnurl.html_files/image.png" style="margin-bottom:10px; &#9;border: 0px; &#9;text-align:center; &#9;vertical-align:center;" alt="Imagemap" usemap="#fm_imagemap" /></div><map name="fm_imagemap" id="fm_imagemap"><area shape="rect" href="#FMID_1568754813FM" alt="lnurl" title="lnurl" coords="839,410,982,453" />
<area shape="rect" href="#FMID_976824623FM" alt="lnurl-node" title="lnurl-node" coords="728,146,820,164" />
<area shape="rect" href="#FMID_583786529FM" alt="github" title="github" coords="753,171,820,189" />
<area shape="rect" href="#FMID_799430967FM" alt="issues" title="issues" coords="669,169,734,187" />
<area shape="rect" href="#FMID_1318740803FM" alt="GET vs POST" title="GET vs POST" coords="541,167,650,185" />
<area shape="rect" href="#FMID_712743929FM" alt="examples" title="examples" coords="731,192,820,210" />
<area shape="rect" href="#FMID_1354539483FM" alt="questions" title="questions" coords="751,215,820,233" />
<area shape="rect" href="#FMID_1526837025FM" alt="what is k1" title="what is k1" coords="660,213,732,231" />
<area shape="rect" href="#FMID_445856962FM" alt="sub protocols" title="sub protocols" coords="1001,422,1115,440" />
<area shape="rect" href="#FMID_752216318FM" alt="lnurl-channel" title="lnurl-channel" coords="1134,52,1245,70" />
<area shape="rect" href="#FMID_1413914468FM" alt="lnurl-hosted-channel" title="lnurl-hosted-channel" coords="1264,50,1426,68" />
<area shape="rect" href="#FMID_160336767FM" alt="lnurl-auth" title="lnurl-auth" coords="1134,73,1223,91" />
<area shape="rect" href="#FMID_1467906227FM" alt="lnurl-withdraw" title="lnurl-withdraw" coords="1134,433,1254,451" />
<area shape="rect" href="#FMID_979052603FM" alt="Today users are asked to provide a withd ..." title="Today users are asked to provide a withd ..." coords="1273,94,1651,214" />
<area shape="rect" href="#FMID_1107748397FM" alt="flow" title="flow" coords="1273,495,1304,513" />
<area shape="rect" href="#FMID_348343330FM" alt="User scans a LNURL QR code or accesses a ..." title="User scans a LNURL QR code or accesses a ..." coords="1323,217,1701,269" />
<area shape="rect" href="#FMID_978113525FM" alt="LN WALLET makes an HTTPS GET request to  ..." title="LN WALLET makes an HTTPS GET request to  ..." coords="1323,272,1701,307" />
<area shape="rect" href="#FMID_1754745311FM" alt="LN WALLET gets Json response from LN SER ..." title="LN WALLET gets Json response from LN SER ..." coords="1323,439,1698,457" />
<area shape="rect" href="#FMID_539032565FM" alt="{
callback: String, // the URL which LN  ..." title="{
callback: String, // the URL which LN  ..." coords="1717,310,2095,566" />
<area shape="rect" href="#FMID_1259863476FM" alt="{&quot;status&quot;:&quot;ERROR&quot;, &quot;reason&quot;:&quot;error detai ..." title="{&quot;status&quot;:&quot;ERROR&quot;, &quot;reason&quot;:&quot;error detai ..." coords="1717,569,2032,587" />
<area shape="rect" href="#FMID_1242307871FM" alt="LN WALLET Displays a withdraw dialog whe ..." title="LN WALLET Displays a withdraw dialog whe ..." coords="1323,600,1701,652" />
<area shape="rect" href="#FMID_1364583205FM" alt="max can receive = min(maxWithdrawable, l ..." title="max can receive = min(maxWithdrawable, l ..." coords="1720,590,2098,625" />
<area shape="rect" href="#FMID_109933147FM" alt="min can receive = max(minWithdrawable, l ..." title="min can receive = max(minWithdrawable, l ..." coords="1720,628,2098,663" />
<area shape="rect" href="#FMID_197096277FM" alt="Once accepted by the user, LN WALLET sen ..." title="Once accepted by the user, LN WALLET sen ..." coords="1323,666,1701,701" />
<area shape="rect" href="#FMID_1308369071FM" alt="&lt;callback&gt;?k1=&lt;k1&gt;&amp;pr=&lt;lightning invoice ..." title="&lt;callback&gt;?k1=&lt;k1&gt;&amp;pr=&lt;lightning invoice ..." coords="1720,672,2063,690" />
<area shape="rect" href="#FMID_1921921534FM" alt="LN SERVICE sends a {&quot;status&quot;:&quot;OK&quot;} or {&quot; ..." title="LN SERVICE sends a {&quot;status&quot;:&quot;OK&quot;} or {&quot; ..." coords="1323,704,1701,756" />
<area shape="rect" href="#FMID_1649584723FM" alt="LN WALLET awaits for incoming payment if ..." title="LN WALLET awaits for incoming payment if ..." coords="1323,759,1701,794" />
<area shape="rect" href="#FMID_1593369352FM" alt="lnurl-pay" title="lnurl-pay" coords="1134,797,1217,815" />
<area shape="rect" href="#FMID_961943115FM" alt="spec" title="spec" coords="755,464,820,484" />
<area shape="rect" href="#FMID_440219822FM" alt="lnurl is a bech32-encoded HTTPS query st ..." title="lnurl is a bech32-encoded HTTPS query st ..." coords="358,236,736,322" />
<area shape="rect" href="#FMID_1177904626FM" alt="https://service.com/api?q=3fc3645b439ce8 ..." title="https://service.com/api?q=3fc3645b439ce8 ..." coords="50,325,736,343" />
<area shape="rect" href="#FMID_452574641FM" alt="LNURL1DP68GURN8GHJ7UM9WF
MXJCM99E3K7MF0V ..." title="LNURL1DP68GURN8GHJ7UM9WF
MXJCM99E3K7MF0V ..." coords="519,346,736,466" />
<area shape="rect" href="#FMID_1961156848FM" alt="example" title="example" coords="674,571,736,589" />
<area shape="rect" href="#FMID_141047124FM" alt="png_15751375840253331061.png" title="png_15751375840253331061.png" coords="420,469,655,687" />
<area shape="rect" href="#FMID_1585457459FM" alt="https://lnurl.com/" title="https://lnurl.com/" coords="602,690,736,708" />
</map>

<div class="node"><img src="lnurl.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N65543&quot;)" id="imgN65543" /><img src="lnurl.html_files/icons/lightning.png" alt="lightning" /> <a id="FMID_1568754813FM" /><div class="nodecontent" style="color:#000000;font-size:150%;"><a href="index.mm">lnurl</a> <a href="index.mm"><img src="lnurl.html_files/ilink.png" alt="User Link" style="border-width:0" /></a></div><div class="content" id="N65543"><div class="node"><img src="lnurl.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_976824623FM" /><div class="nodecontent" style="color:#000000;font-size:83%;"><a href="https://github.com/chill117/lnurl-node/blob/master/README.md">lnurl-node</a> <a href="https://github.com/chill117/lnurl-node/blob/master/README.md"><img src="lnurl.html_files/ilink.png" alt="User Link" style="border-width:0" /></a></div></div><div class="node"><img src="lnurl.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N66483&quot;)" id="imgN66483" /><a id="FMID_583786529FM" /><div class="nodecontent" style="color:#000000;font-size:83%;"><a href="https://github.com/btcontract/lnurl-rfc">github</a> <a href="https://github.com/btcontract/lnurl-rfc"><img src="lnurl.html_files/ilink.png" alt="User Link" style="border-width:0" /></a></div><div class="content" id="N66483"><div class="node"><img src="lnurl.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N66520&quot;)" id="imgN66520" /><a id="FMID_799430967FM" /><div class="nodecontent" style="color:#000000;font-size:83%;"><a href="https://github.com/btcontract/lnurl-rfc/issues/">issues</a> <a href="https://github.com/btcontract/lnurl-rfc/issues/"><img src="lnurl.html_files/ilink.png" alt="User Link" style="border-width:0" /></a></div><div class="content" id="N66520"><div class="node"><img src="lnurl.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1318740803FM" /><div class="nodecontent" style="color:#000000;font-size:83%;"><a href="https://github.com/btcontract/lnurl-rfc/issues/4">GET vs POST</a> <a href="https://github.com/btcontract/lnurl-rfc/issues/4"><img src="lnurl.html_files/ilink.png" alt="User Link" style="border-width:0" /></a></div></div></div></div></div></div><div class="node"><img src="lnurl.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_712743929FM" /><div class="nodecontent" style="color:#000000;font-size:83%;"><a href="https://github.com/btcontract/lnurl-rfc/blob/master/examples.md">examples</a> <a href="https://github.com/btcontract/lnurl-rfc/blob/master/examples.md"><img src="lnurl.html_files/ilink.png" alt="User Link" style="border-width:0" /></a></div></div><div class="node"><img src="lnurl.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N66633&quot;)" id="imgN66633" /><a id="FMID_1354539483FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">questions</div><div class="content" id="N66633"><div class="node"><img src="lnurl.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1526837025FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">what is k1</div></div></div></div><div class="node"><img src="lnurl.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N66706&quot;)" id="imgN66706" /><a id="FMID_445856962FM" /><div class="nodecontent" style="color:#000000;font-size:83%;"><a href="https://github.com/btcontract/lnurl-rfc/blob/master/spec.md#sub-protocols">sub protocols</a> <a href="https://github.com/btcontract/lnurl-rfc/blob/master/spec.md#sub-protocols"><img src="lnurl.html_files/ilink.png" alt="User Link" style="border-width:0" /></a></div><div class="content" id="N66706"><div class="node"><img src="lnurl.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N66743&quot;)" id="imgN66743" /><a id="FMID_752216318FM" /><div class="nodecontent" style="color:#000000;font-size:83%;"><a href="https://github.com/btcontract/lnurl-rfc/blob/master/spec.md#1-lnurl-channel">lnurl-channel</a> <a href="https://github.com/btcontract/lnurl-rfc/blob/master/spec.md#1-lnurl-channel"><img src="lnurl.html_files/ilink.png" alt="User Link" style="border-width:0" /></a></div><div class="content" id="N66743"><div class="node"><img src="lnurl.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1413914468FM" /><div class="nodecontent" style="color:#000000;font-size:83%;"><a href="https://github.com/btcontract/lnurl-rfc/blob/master/spec.md#11-lnurl-hosted-channel">lnurl-hosted-channel</a> <a href="https://github.com/btcontract/lnurl-rfc/blob/master/spec.md#11-lnurl-hosted-channel"><img src="lnurl.html_files/ilink.png" alt="User Link" style="border-width:0" /></a></div></div></div></div><div class="node"><img src="lnurl.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_160336767FM" /><div class="nodecontent" style="color:#000000;font-size:83%;"><a href="https://github.com/btcontract/lnurl-rfc/blob/master/spec.md#2-lnurl-auth">lnurl-auth</a> <a href="https://github.com/btcontract/lnurl-rfc/blob/master/spec.md#2-lnurl-auth"><img src="lnurl.html_files/ilink.png" alt="User Link" style="border-width:0" /></a></div></div><div class="node"><img src="lnurl.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N66854&quot;)" id="imgN66854" /><a id="FMID_1467906227FM" /><div class="nodecontent" style="color:#000000;font-size:83%;"><a href="https://github.com/btcontract/lnurl-rfc/blob/master/spec.md#3-lnurl-withdraw">lnurl-withdraw</a> <a href="https://github.com/btcontract/lnurl-rfc/blob/master/spec.md#3-lnurl-withdraw"><img src="lnurl.html_files/ilink.png" alt="User Link" style="border-width:0" /></a></div><div class="content" id="N66854"><div class="node"><img src="lnurl.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_979052603FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">Today users are asked to provide a withdrawal Lightning invoice to a service, this requires some effort and is especially painful when user tries to withdraw funds into mobile wallet while using a desktop website. Instead of asking for Lightning invoice a service could display a "withdraw" QR code which contains a specialized LNURL</div></div><div class="node"><img src="lnurl.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N66926&quot;)" id="imgN66926" /><a id="FMID_1107748397FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">flow</div><div class="content" id="N66926"><div class="node"><img src="lnurl.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_348343330FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">User scans a LNURL QR code or accesses an lightning:LNURL.. link with LN WALLET and LN WALLET decodes LNURL.</div></div><div class="node"><img src="lnurl.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_978113525FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">LN WALLET makes an HTTPS GET request to LN SERVICE using the decoded LNURL.</div></div><div class="node"><img src="lnurl.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N67033&quot;)" id="imgN67033" /><a id="FMID_1754745311FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">LN WALLET gets Json response from LN SERVICE of form:</div><div class="content" id="N67033"><div class="node"><img src="lnurl.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_539032565FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">{<br />callback: String, // the URL which LN SERVICE would accept a withdrawal Lightning invoice as query parameter<br />k1: String, // random or non-random string to identify the user's LN WALLET when using the callback URL<br />maxWithdrawable: MilliSatoshi, // max withdrawable amount for a given user on LN SERVICE<br />defaultDescription: String, // A default withdrawal invoice description<br />minWithdrawable: MilliSatoshi // An optional field, defaults to 1 MilliSatoshi if not present, can not be less than 1 or more than `maxWithdrawable`<br />tag: "withdrawRequest" // type of LNURL<br />}</div></div><div class="node"><img src="lnurl.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1259863476FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">{"status":"ERROR", "reason":"error details..."}</div></div></div></div><div class="node"><img src="lnurl.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N67141&quot;)" id="imgN67141" /><a id="FMID_1242307871FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">LN WALLET Displays a withdraw dialog where user can specify an exact sum to be withdrawn which would be bounded by:</div><div class="content" id="N67141"><div class="node"><img src="lnurl.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1364583205FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">max can receive = min(maxWithdrawable, local estimation of how much can be routed into wallet)</div></div><div class="node"><img src="lnurl.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_109933147FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">min can receive = max(minWithdrawable, local minimal value allowed by wallet)</div></div></div></div><div class="node"><img src="lnurl.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N67249&quot;)" id="imgN67249" /><a id="FMID_197096277FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">Once accepted by the user, LN WALLET sends an HTTPS GET to LN SERVICE in the form of</div><div class="content" id="N67249"><div class="node"><img src="lnurl.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1308369071FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">&lt;callback&gt;?k1=&lt;k1&gt;&amp;pr=&lt;lightning invoice, ...&gt;</div></div></div></div><div class="node"><img src="lnurl.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1921921534FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">LN SERVICE sends a {"status":"OK"} or {"status":"ERROR", "reason":"error details..."} Json response</div></div><div class="node"><img src="lnurl.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1649584723FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">LN WALLET awaits for incoming payment if response was successful.</div></div></div></div></div></div><div class="node"><img src="lnurl.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1593369352FM" /><div class="nodecontent" style="color:#000000;font-size:83%;"><a href="https://github.com/btcontract/lnurl-rfc/blob/master/spec.md#4-lnurl-pay">lnurl-pay</a> <a href="https://github.com/btcontract/lnurl-rfc/blob/master/spec.md#4-lnurl-pay"><img src="lnurl.html_files/ilink.png" alt="User Link" style="border-width:0" /></a></div></div></div></div><div class="node"><img src="lnurl.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N67433&quot;)" id="imgN67433" /><a id="FMID_961943115FM" /><div class="nodecontent" style="color:#000000;font-size:100%;font-weight:bold;"><a href="https://github.com/btcontract/lnurl-rfc/blob/master/spec.md">spec</a> <a href="https://github.com/btcontract/lnurl-rfc/blob/master/spec.md"><img src="lnurl.html_files/ilink.png" alt="User Link" style="border-width:0" /></a></div><div class="content" id="N67433"><div class="node"><img src="lnurl.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_440219822FM" /><div class="nodecontent" style="color:#000099;font-size:83%;">lnurl is a bech32-encoded HTTPS query string which is supposed to help payer interact with payee and thus simplify a number of standard scenarios such as requesting incoming channels, withdrawing funds, logging in etc.</div></div><div class="node"><img src="lnurl.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1177904626FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">https://service.com/api?q=3fc3645b439ce8e7f2553a69e5267081d96dcd340693afabe04be7b0ccd178df</div></div><div class="node"><img src="lnurl.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_452574641FM" /><div class="nodecontent" style="color:#009900;font-size:83%;">LNURL1DP68GURN8GHJ7UM9WF<br />MXJCM99E3K7MF0V9CXJ0M385E<br />KVCENXC6R2C35XVUKXEFCV5M<br />KVV34X5EKZD3EV56NYD3HXQU<br />RZEPEXEJXXEPNXSCRVWFNV9N<br />XZCN9XQ6XYEFHVGCXXCMYXY<br />MNSERXFQ5FNS</div></div><div class="node"><img src="lnurl.html_files/hide.png" class="hideshow" alt="hide" onClick="toggle(&quot;N67578&quot;)" id="imgN67578" /><a id="FMID_1961156848FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">example</div><div class="content" id="N67578"><div class="node"><img src="lnurl.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_141047124FM" /><div class="nodecontent" style="color:#000000;font-size:83%;">png_15751375840253331061.png</div></div></div></div><div class="node"><img src="lnurl.html_files/leaf.png" class="hideshow" alt="leaf" /><a id="FMID_1585457459FM" /><div class="nodecontent" style="color:#000000;font-size:83%;"><a href="https://lnurl.com/">
    <a http-equiv="content-type" content="text/html; charset=utf-8" href="https://lnurl.com/">https://lnurl.com/</a>
  </a> <a href="https://lnurl.com/"><img src="lnurl.html_files/ilink.png" alt="User Link" style="border-width:0" /></a></div></div></div></div></div></div>
</body></html>